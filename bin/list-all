#!/usr/bin/env sh

curl --silent 'https://api.github.com/repos/coq/coq/releases?page=1&per_page=50' | python -c "$(cat <<CODE
import sys, json
from operator import itemgetter

def get_versions():
  l = [
    r
    for r in json.load(sys.stdin)
    if 'tag_name' in r and 'created_at' in r and r['tag_name'].startswith('V')
  ]
  l.sort(key=itemgetter('created_at'))
  return [r['tag_name'][1:] for r in l]

print('\n'.join(get_versions()))
CODE
)"
